Приложение для учёта личных финансов

Функции администратора:

1. Создание/удаление учётной записи клиента (class Client extends User)
2. Изменение учётной записи:
    - настройка прав доступа к функциям

Клиентские функции:

1. Создание/удаление счетов
2. Создание/удаление/редактирование типов транзакций
3. Создание/удаление транзакций

План работы:

Основная часть: [est. 53 (6-7 дней) - act 51]
Доп. часть: [est. 10]

+0. ознакомиться с системой JMix (est. 16 (два дня) - act. 16)
+1. Написать план (est. 2 - act. 1,5)
+2. Создать сущности: (est. 2 - act. 1)
    - Client { id, name, email } extends User
    - BankAccount { id, name, user, amount, [rub] }
    - Transaction { id, fromAccount, toAccount, List<TransactionType> type, amount, [rub] }
    - TransactionType { id, name, user }
[rub - вспомогательное поле для вывода суммы (amount) в рублях]
+3. настроить UI для создания клиентов администратором (est. 2 - act. 3) [проблемы с работой при наследовании]
    - форма создания/изменения
+4. создание счетов (BankAccount) клиентом (est. 4 - act. 3)
    - Обязательные поля: name, rub
    - конвертировать сумму в копейки и сохранить в базе
+5. создание/редактирование типов транзакций (est. 1 - act. 1)
+6. создание транзакций (est. 3 - act. 2,5)
    - поля: name, fromAccount, toAccount, type, rub
    - конвертировать сумму в копейки, вычислить итоговые суммы на счетах, сохранить в базе
+6'. запретить клиентам просматривать чужие данные (est. 4 - act. 7) [проблемы с jpql]
[используем делегирование загрузки]
    - счета (BankAccountBrowse.bankAccountDlLoadDelegate)
    (!!!)- транзакции (TransactionBrowser.transactionsDlLoadDelegate)
    - типы транзакций (TransactionTypeBrowse.transactionTypesDlLoadDelegate)
+7. удаление клиентов вместе с их счетами, транзакциями и типами транзакций (est. 4 - act. 6)
+8. удаление (и изменение) транзакций с возвращением счетов к состоянию до совершения транзакции (est. 2 - act. 2,5)
[onTransactionChangedBeforeCommit]
+9. удаление типов транзакций с удалением соответствующих транзакций (est. 2 - act. 2)
[исправлены ошибки в пред. пункте -> всё работает автоматически]
+10. удаление счетов с удалением соотв. транзакций (est. 2 - act. 0,5)
+11. Валидация счёта (est. 2 - act. 1)
    - наличие имени
    - положительный баланс (в рублях с двумя знаками после запятой)
+12. Валидация транзакции (est. 4 - act. 3)
    - есть хотя бы один тип
    - счета - разные, один из счетов м.б. null, но не оба
    - сумма > 0
    - достаточно денег на счёте
+13. Валидация типа транзакции (est. 1 - act. 0,1)
    - есть имя
~13'. Правки UI (est. 2 - act. 0,5)
    - проверить поля в браузерах (наличие, корректные имена, порядок вывода)
    - автозаполнение полей в редакторах:
        - дата, сумма в транзакциях
        - другие?
-------------------------------
-доп. функции:

13''. Рефакторинг:
    - п. 6'
14. Предварительно созданные типы транзакций "приход"/"расход" (est. 2)
15. Невозможно выбрать оба типа сразу (est. 2)
16. Автоматический выбор этих типов при установке from/toAccount в null соответственно (est. 4)
17. Автоматически установить to/fromAccount в null при выборе этих типов (est. 2)